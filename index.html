<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بازار معاملاتی رویال شاپ | Royal Shop Market</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap">
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #2979ff;
            --accent-color: #ff4081;
            --light-color: #ffffff;
            --gray-light: #f5f7ff;
            --gray-medium: #e8eaf6;
            --gray-dark: #5c6bc0;
            --success-color: #00c853;
            --warning-color: #ff9100;
            --virtual-color: #9c27b0;
            --shadow: 0 10px 40px rgba(26, 35, 126, 0.1);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --border-radius: 16px;
            --gradient-primary: linear-gradient(135deg, #1a237e 0%, #2979ff 100%);
            --gradient-accent: linear-gradient(135deg, #ff4081 0%, #ff9100 100%);
            --gradient-light: linear-gradient(135deg, #ffffff 0%, #f5f7ff 100%);
            --gradient-virtual: linear-gradient(135deg, #9c27b0 0%, #e91e63 100%);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #fafafa;
            color: #333;
            line-height: 1.7;
            overflow-x: hidden;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(41, 121, 255, 0.05) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 64, 129, 0.05) 0%, transparent 20%);
            scroll-behavior: smooth;
        }

        /* انیمیشن‌های پیشرفته */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-15px) rotate(2deg); }
            66% { transform: translateY(-8px) rotate(-2deg); }
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 5px 15px rgba(41, 121, 255, 0.3); }
            50% { transform: scale(1.08); box-shadow: 0 10px 30px rgba(41, 121, 255, 0.5); }
            100% { transform: scale(1); box-shadow: 0 5px 15px rgba(41, 121, 255, 0.3); }
        }

        @keyframes slideInLeft {
            from { transform: translateX(-50px) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

        @keyframes slideInRight {
            from { transform: translateX(50px) scale(0.9); opacity: 0; }
            to { transform: translateX(0) scale(1); opacity: 1; }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 10px rgba(41, 121, 255, 0.5); }
            50% { box-shadow: 0 0 25px rgba(41, 121, 255, 0.8); }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @keyframes wave {
            0% { transform: translateX(0); }
            50% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        @keyframes ripple {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(4); opacity: 0; }
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }

        @keyframes neon {
            0%, 100% { text-shadow: 0 0 5px #fff, 0 0 10px #fff, 0 0 15px var(--secondary-color), 0 0 20px var(--secondary-color); }
            50% { text-shadow: 0 0 10px #fff, 0 0 20px #fff, 0 0 30px var(--secondary-color), 0 0 40px var(--secondary-color); }
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 0.8; }
            100% { transform: translateY(-100px) scale(1.2); opacity: 0; }
        }

        @keyframes particles {
            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-1000px) rotate(720deg); opacity: 0; }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }

        @keyframes zoomIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        /* هدر و نوبار */
        header {
            background: var(--gradient-light);
            box-shadow: var(--shadow);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding: 15px 0;
            animation: fadeIn 0.8s ease;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.8);
        }

        .container {
            width: 90%;
            max-width: 1300px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            animation: slideInLeft 0.8s ease;
        }

        .logo img {
            height: 65px;
            width: 65px;
            margin-left: 12px;
            border-radius: 50%;
            box-shadow: 0 8px 25px rgba(26, 35, 126, 0.2);
            transition: var(--transition);
            border: 3px solid var(--light-color);
            animation: float 6s ease-in-out infinite;
        }

        .logo img:hover {
            transform: rotate(20deg) scale(1.1);
            box-shadow: 0 15px 35px rgba(26, 35, 126, 0.3);
        }

        .logo h1 {
            font-size: 1.8rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900;
            letter-spacing: -0.5px;
        }

        .logo span {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo-subtitle {
            font-size: 0.9rem;
            color: var(--gray-dark);
            margin-top: 5px;
            font-weight: 500;
        }

        .nav-links {
            display: flex;
            list-style: none;
            animation: slideInRight 0.8s ease;
        }

        .nav-links li {
            margin-right: 30px;
            position: relative;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.05rem;
            padding: 10px 0;
            position: relative;
            transition: var(--transition);
            display: flex;
            align-items: center;
        }

        .nav-links a i {
            margin-left: 8px;
            font-size: 1.2rem;
        }

        .nav-links a:hover {
            color: var(--secondary-color);
            transform: translateY(-3px);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 3px;
            background: var(--gradient-accent);
            transition: width 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-radius: 2px;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            transition: var(--transition);
            animation: pulse 3s infinite;
            background: var(--gradient-primary);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            box-shadow: 0 5px 20px rgba(41, 121, 255, 0.4);
        }

        .cart-icon:hover {
            animation: none;
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 10px 30px rgba(41, 121, 255, 0.6);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            left: -5px;
            background: var(--gradient-accent);
            color: white;
            border-radius: 50%;
            width: 26px;
            height: 26px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.85rem;
            font-weight: 900;
            box-shadow: 0 3px 10px rgba(255, 64, 129, 0.5);
            animation: bounce 2s infinite;
        }

        .hamburger {
            display: none;
            cursor: pointer;
            font-size: 1.8rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            transition: var(--transition);
        }

        .hamburger:hover {
            transform: scale(1.1);
        }

        /* بخش اصلی */
        main {
            margin-top: 120px;
            animation: fadeIn 1s ease;
        }

        .hero {
            background: var(--gradient-light);
            border-radius: var(--border-radius);
            padding: 80px 50px;
            margin-bottom: 70px;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        .hero::before, .hero::after {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(41, 121, 255, 0.1) 0%, transparent 70%);
            animation: float 20s infinite linear;
        }

        .hero::before {
            top: -100px;
            left: -100px;
            animation-delay: 0s;
        }

        .hero::after {
            bottom: -100px;
            right: -100px;
            animation-delay: 10s;
        }

        /* ذرات متحرک در هیرو */
        .particles-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(41, 121, 255, 0.3);
            border-radius: 50%;
            animation: particles 15s infinite linear;
        }

        .hero h2 {
            font-size: 3.2rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 25px;
            animation: fadeIn 1.2s ease;
            font-weight: 900;
            line-height: 1.2;
            position: relative;
            z-index: 2;
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--primary-color);
            max-width: 800px;
            margin: 0 auto 40px;
            animation: fadeIn 1.4s ease;
            font-weight: 500;
            line-height: 1.8;
            position: relative;
            z-index: 2;
        }

        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 25px;
            animation: fadeIn 1.6s ease;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }

        .btn {
            padding: 18px 42px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 800;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-family: 'Vazirmatn', sans-serif;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 100%;
            background: rgba(255, 255, 255, 0.2);
            transition: width 0.5s ease;
            z-index: -1;
        }

        .btn:hover::before {
            width: 100%;
        }

        .btn i {
            margin-left: 10px;
            font-size: 1.3rem;
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 8px 25px rgba(41, 121, 255, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(41, 121, 255, 0.6);
        }

        .btn-secondary {
            background: var(--gradient-accent);
            color: white;
            box-shadow: 0 8px 25px rgba(255, 64, 129, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 64, 129, 0.6);
        }

        .btn-virtual {
            background: var(--gradient-virtual);
            color: white;
            box-shadow: 0 8px 25px rgba(156, 39, 176, 0.4);
        }

        .btn-virtual:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(156, 39, 176, 0.6);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-color);
            border: 3px solid var(--primary-color);
        }

        .btn-outline:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-5px);
        }

        /* بخش‌بندی محصولات */
        .section-title {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            padding-bottom: 25px;
        }

        .section-title h3 {
            font-size: 2.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
            font-weight: 900;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 50%;
            transform: translateX(50%);
            width: 120px;
            height: 6px;
            background: var(--gradient-accent);
            border-radius: 3px;
            animation: wave 3s infinite;
        }

        .category-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 50px;
            background: var(--gradient-light);
            border-radius: 50px;
            padding: 10px;
            box-shadow: var(--shadow);
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            flex-wrap: wrap;
        }

        .tab-btn {
            padding: 18px 40px;
            background: none;
            border: none;
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--gray-dark);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            border-radius: 40px;
            flex: 1;
            text-align: center;
            min-width: 200px;
            margin: 5px;
        }

        .tab-btn.active {
            background: var(--gradient-primary);
            color: white;
            box-shadow: 0 5px 20px rgba(41, 121, 255, 0.4);
        }

        .tab-btn.virtual.active {
            background: var(--gradient-virtual);
            box-shadow: 0 5px 20px rgba(156, 39, 176, 0.4);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 40px;
            margin-bottom: 80px;
        }

        .product-card {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            animation: fadeIn 0.8s ease;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.8);
            will-change: transform;
        }

        .product-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 30px 60px rgba(26, 35, 126, 0.15);
        }

        .product-card.virtual {
            border: 2px solid var(--virtual-color);
        }

        .product-card.virtual:hover {
            box-shadow: 0 30px 60px rgba(156, 39, 176, 0.15);
        }

        .product-badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: var(--gradient-accent);
            color: white;
            padding: 10px 25px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 900;
            z-index: 2;
            animation: bounce 2s infinite;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
        }

        .product-badge.virtual {
            background: var(--gradient-virtual);
            box-shadow: 0 5px 15px rgba(156, 39, 176, 0.4);
        }

        .product-img {
            height: 240px;
            overflow: hidden;
            position: relative;
        }

        .product-img::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 70%, rgba(26, 35, 126, 0.1) 100%);
        }

        .product-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .product-card:hover .product-img img {
            transform: scale(1.15) rotate(2deg);
        }

        .product-info {
            padding: 30px;
            position: relative;
        }

        .product-title {
            font-size: 1.5rem;
            font-weight: 900;
            color: var(--primary-color);
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .product-card.virtual .product-title {
            color: var(--virtual-color);
        }

        .product-description {
            color: var(--gray-dark);
            font-size: 1rem;
            margin-bottom: 20px;
            line-height: 1.8;
        }

        .product-price {
            font-size: 1.8rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
        }

        .product-card.virtual .product-price {
            background: var(--gradient-virtual);
            -webkit-background-clip: text;
            background-clip: text;
        }

        .product-price i {
            margin-left: 10px;
            font-size: 1.5rem;
        }

        .product-duration {
            display: inline-block;
            background: var(--gradient-light);
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-top: 10px;
        }

        .guarantee-badge {
            display: inline-flex;
            align-items: center;
            background: var(--gradient-virtual);
            color: white;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 800;
            margin-top: 10px;
            animation: glow 2s infinite;
        }

        .guarantee-badge i {
            margin-left: 8px;
        }

        .product-actions {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        .btn-add-to-cart {
            background: var(--gradient-primary);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 800;
            transition: var(--transition);
            font-family: 'Vazirmatn', sans-serif;
            flex-grow: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-add-to-cart.virtual {
            background: var(--gradient-virtual);
        }

        .btn-add-to-cart:hover {
            background: var(--gradient-primary);
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(41, 121, 255, 0.4);
        }

        .btn-add-to-cart.virtual:hover {
            box-shadow: 0 10px 25px rgba(156, 39, 176, 0.4);
        }

        .btn-details {
            background: transparent;
            color: var(--primary-color);
            border: 3px solid var(--primary-color);
            padding: 12px 25px;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 800;
            transition: var(--transition);
            font-family: 'Vazirmatn', sans-serif;
        }

        .btn-details.virtual {
            color: var(--virtual-color);
            border-color: var(--virtual-color);
        }

        .btn-details:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-5px);
        }

        .btn-details.virtual:hover {
            background: var(--virtual-color);
            color: white;
        }

        /* بخش واسطه‌ها */
        .mediators-section {
            background: var(--gradient-light);
            padding: 80px 0;
            margin: 80px 0;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }

        .mediators-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%235c6bc0' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .mediators-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 50px;
        }

        .mediator-card {
            background: var(--light-color);
            border-radius: var(--border-radius);
            padding: 40px;
            box-shadow: var(--shadow);
            text-align: center;
            transition: var(--transition);
            animation: fadeIn 0.8s ease;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.8);
            z-index: 2;
            will-change: transform;
        }

        .mediator-card:hover {
            transform: translateY(-15px) scale(1.03);
            box-shadow: 0 30px 60px rgba(26, 35, 126, 0.15);
        }

        .mediator-rank {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--gradient-accent);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 1.3rem;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
            animation: rotate 20s linear infinite;
        }

        .mediator-img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            overflow: hidden;
            margin: 0 auto 25px;
            border: 5px solid var(--light-color);
            box-shadow: 0 10px 30px rgba(26, 35, 126, 0.2);
            transition: var(--transition);
            position: relative;
        }

        .mediator-card:hover .mediator-img {
            border-color: var(--secondary-color);
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(41, 121, 255, 0.4);
        }

        .mediator-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .mediator-name {
            font-size: 1.7rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 10px;
        }

        .mediator-role {
            color: var(--secondary-color);
            font-weight: 800;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        .mediator-stats {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .stat-item {
            text-align: center;
            padding: 15px;
            background: var(--gradient-light);
            border-radius: var(--border-radius);
            min-width: 120px;
            transition: var(--transition);
            will-change: transform;
        }

        .stat-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(26, 35, 126, 0.1);
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: block;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray-dark);
            font-weight: 600;
            margin-top: 5px;
        }

        .mediator-contact {
            background: var(--gradient-light);
            padding: 15px;
            border-radius: var(--border-radius);
            font-family: monospace;
            font-size: 1.1rem;
            margin-top: 20px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .mediator-contact:hover {
            background: var(--secondary-color);
            color: white;
            border-color: var(--secondary-color);
            transform: translateY(-5px);
        }

        .copy-btn {
            background: transparent;
            border: none;
            color: inherit;
            cursor: pointer;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .copy-btn:hover {
            transform: scale(1.2);
        }

        /* سبد خرید */
        .cart-modal {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 2000;
            display: none;
            justify-content: flex-end;
            backdrop-filter: blur(5px);
        }

        .cart-modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .cart-content {
            width: 100%;
            max-width: 550px;
            background: var(--gradient-light);
            height: 100%;
            overflow-y: auto;
            padding: 40px;
            transform: translateX(100%);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border-left: 1px solid rgba(255, 255, 255, 0.8);
        }

        .cart-modal.active .cart-content {
            transform: translateX(0);
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 40px;
            padding-bottom: 25px;
            border-bottom: 3px solid var(--gray-medium);
        }

        .cart-title {
            font-size: 2.2rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 900;
        }

        .close-cart {
            background: var(--gradient-accent);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
        }

        .close-cart:hover {
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 10px 25px rgba(255, 64, 129, 0.6);
        }

        .cart-items {
            margin-bottom: 40px;
        }

        .cart-item {
            display: flex;
            align-items: center;
            padding: 25px 0;
            border-bottom: 2px solid var(--gray-medium);
            animation: fadeIn 0.5s ease;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-img {
            width: 100px;
            height: 100px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-left: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: var(--transition);
        }

        .cart-item-img:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .cart-item-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex-grow: 1;
        }

        .cart-item-title {
            font-weight: 900;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .cart-item-price {
            color: var(--secondary-color);
            font-weight: 900;
            font-size: 1.3rem;
        }

        .cart-item-actions {
            display: flex;
            align-items: center;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient-primary);
            border: none;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: 900;
            color: white;
            transition: var(--transition);
            box-shadow: 0 3px 10px rgba(41, 121, 255, 0.4);
        }

        .quantity-btn:hover {
            transform: scale(1.2);
            box-shadow: 0 5px 15px rgba(41, 121, 255, 0.6);
        }

        .item-quantity {
            margin: 0 20px;
            font-weight: 900;
            font-size: 1.3rem;
            min-width: 30px;
            text-align: center;
        }

        .remove-item {
            background: var(--gradient-accent);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 1.3rem;
            margin-right: 15px;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 10px rgba(255, 64, 129, 0.4);
        }

        .remove-item:hover {
            transform: scale(1.2) rotate(15deg);
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.6);
        }

        .cart-footer {
            border-top: 3px solid var(--gray-medium);
            padding-top: 30px;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.8rem;
            font-weight: 900;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 40px;
        }

        .checkout-btn {
            width: 100%;
            padding: 22px;
            background: var(--gradient-accent);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 900;
            font-size: 1.3rem;
            cursor: pointer;
            transition: var(--transition);
            font-family: 'Vazirmatn', sans-serif;
            box-shadow: 0 8px 25px rgba(255, 64, 129, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .checkout-btn:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(255, 64, 129, 0.6);
        }

        .checkout-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        /* درگاه پرداخت */
        .payment-modal {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .payment-modal.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        .payment-content {
            background: var(--gradient-light);
            width: 90%;
            max-width: 700px;
            border-radius: var(--border-radius);
            padding: 50px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            transform: scale(0.9) translateY(50px);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.8);
            position: relative;
            overflow-y: auto;
            max-height: 90vh;
        }

        .payment-modal.active .payment-content {
            transform: scale(1) translateY(0);
        }

        .payment-content::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 10px;
            background: var(--gradient-primary);
        }

        .payment-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .payment-title {
            font-size: 2.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 15px;
            font-weight: 900;
        }

        .payment-subtitle {
            color: var(--gray-dark);
            font-size: 1.1rem;
        }

        .secure-badge {
            display: inline-flex;
            align-items: center;
            background: var(--gradient-primary);
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 800;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(41, 121, 255, 0.4);
            animation: glow 2s infinite;
        }

        .secure-badge i {
            margin-left: 10px;
            font-size: 1.3rem;
        }

        .payment-security {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .security-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--gradient-light);
            padding: 15px 25px;
            border-radius: var(--border-radius);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .security-item i {
            color: var(--success-color);
            font-size: 1.5rem;
        }

        .payment-form {
            margin-top: 40px;
        }

        .form-group {
            margin-bottom: 30px;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 12px;
            font-weight: 800;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .form-group input {
            width: 100%;
            padding: 20px;
            border: 3px solid var(--gray-medium);
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            font-family: 'Vazirmatn', sans-serif;
            transition: var(--transition);
            background: white;
        }

        .form-group input:focus {
            border-color: var(--secondary-color);
            outline: none;
            box-shadow: 0 0 0 5px rgba(41, 121, 255, 0.2);
        }

        .payment-methods {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 40px 0;
            flex-wrap: wrap;
        }

        .payment-method {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
            padding: 25px;
            border-radius: var(--border-radius);
            border: 3px solid transparent;
            background: var(--gradient-light);
            min-width: 150px;
        }

        .payment-method:hover, .payment-method.active {
            border-color: var(--secondary-color);
            background: rgba(41, 121, 255, 0.05);
            transform: translateY(-10px);
        }

        .payment-method i {
            font-size: 3.5rem;
            margin-bottom: 15px;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .payment-actions {
            display: flex;
            gap: 25px;
            margin-top: 40px;
        }

        .btn-cancel {
            flex: 1;
            background: var(--gradient-light);
            color: var(--primary-color);
            border: 3px solid var(--primary-color);
        }

        .btn-cancel:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-5px);
        }

        .btn-pay {
            flex: 2;
            background: var(--gradient-accent);
            color: white;
            font-size: 1.2rem;
            padding: 25px;
        }

        .btn-pay:hover {
            transform: translateY(-5px) scale(1.03);
        }

        /* مودال کد رهگیری */
        .tracking-modal {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            z-index: 5000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(15px);
        }

        .tracking-modal.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }

        .tracking-content {
            background: var(--gradient-light);
            width: 90%;
            max-width: 700px;
            border-radius: var(--border-radius);
            padding: 60px 50px;
            box-shadow: 0 40px 100px rgba(0, 0, 0, 0.4);
            transform: scale(0.9);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(255, 255, 255, 0.8);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .tracking-modal.active .tracking-content {
            transform: scale(1);
            animation: zoomIn 0.5s ease;
        }

        .tracking-icon {
            width: 120px;
            height: 120px;
            background: var(--gradient-accent);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 40px;
            font-size: 4rem;
            color: white;
            box-shadow: 0 15px 40px rgba(255, 64, 129, 0.5);
            animation: bounce 2s infinite;
        }

        .tracking-title {
            font-size: 2.8rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 20px;
            font-weight: 900;
        }

        .tracking-subtitle {
            color: var(--gray-dark);
            font-size: 1.3rem;
            margin-bottom: 40px;
            line-height: 1.8;
        }

        .tracking-code {
            background: var(--gradient-primary);
            color: white;
            font-size: 3.5rem;
            font-weight: 900;
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 40px 0;
            letter-spacing: 10px;
            font-family: monospace;
            box-shadow: 0 15px 40px rgba(41, 121, 255, 0.4);
            animation: neon 3s infinite alternate;
            position: relative;
            overflow: hidden;
        }

        .tracking-code::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 3s infinite;
        }

        .tracking-instructions {
            background: rgba(41, 121, 255, 0.1);
            padding: 30px;
            border-radius: var(--border-radius);
            margin: 40px 0;
            text-align: right;
            border-right: 5px solid var(--secondary-color);
        }

        .tracking-instructions h4 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 900;
        }

        .tracking-instructions ol {
            padding-right: 20px;
            color: var(--gray-dark);
            line-height: 2;
            font-size: 1.1rem;
        }

        .tracking-instructions li {
            margin-bottom: 15px;
        }

        .tracking-instructions strong {
            color: var(--primary-color);
        }

        .tracking-support {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            background: var(--gradient-light);
            padding: 25px;
            border-radius: var(--border-radius);
            margin-top: 40px;
            border: 3px solid var(--secondary-color);
        }

        .tracking-support i {
            font-size: 2.5rem;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .tracking-support p {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--primary-color);
        }

        .tracking-actions {
            display: flex;
            gap: 20px;
            margin-top: 50px;
            justify-content: center;
        }

        .btn-copy-code {
            background: var(--gradient-virtual);
            color: white;
            border: none;
            padding: 20px 40px;
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(156, 39, 176, 0.4);
        }

        .btn-copy-code:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(156, 39, 176, 0.6);
        }

        .btn-close-tracking {
            background: var(--gradient-light);
            color: var(--primary-color);
            border: 3px solid var(--primary-color);
            padding: 20px 40px;
            border-radius: var(--border-radius);
            font-size: 1.2rem;
            font-weight: 800;
            cursor: pointer;
            transition: var(--transition);
        }

        .btn-close-tracking:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-5px);
        }

        /* قوانین */
        .rules-section {
            background: var(--gradient-primary);
            color: white;
            padding: 80px 0;
            margin-top: 80px;
            border-radius: var(--border-radius);
            position: relative;
            overflow: hidden;
        }

        .rules-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.1' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .rules-title {
            text-align: center;
            margin-bottom: 60px;
            font-size: 2.5rem;
            font-weight: 900;
            position: relative;
            z-index: 2;
        }

        .rules-list {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 2;
        }

        .rule-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: var(--border-radius);
            transition: var(--transition);
            backdrop-filter: blur(5px);
        }

        .rule-item:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(15px);
        }

        .rule-item i {
            font-size: 1.8rem;
            margin-left: 20px;
            color: var(--warning-color);
            margin-top: 5px;
        }

        /* فوتر */
        footer {
            background: var(--gradient-primary);
            color: white;
            padding: 80px 0 40px;
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }

        footer::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 50px;
            margin-bottom: 60px;
            position: relative;
            z-index: 2;
        }

        .footer-logo h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
            font-weight: 900;
        }

        .footer-logo span {
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .footer-logo p {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.8;
            margin-top: 15px;
        }

        .footer-links h3, .footer-contact h3 {
            font-size: 1.5rem;
            margin-bottom: 30px;
            position: relative;
            padding-bottom: 15px;
            font-weight: 900;
        }

        .footer-links h3::after, .footer-contact h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0;
            width: 60px;
            height: 4px;
            background: var(--gradient-accent);
            border-radius: 2px;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 15px;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .footer-links a:hover {
            color: white;
            padding-right: 15px;
        }

        .footer-links a i {
            font-size: 1.2rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }

        .contact-item i {
            margin-left: 15px;
            font-size: 1.5rem;
            color: var(--secondary-color);
            background: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .contact-item a {
            color: white;
            text-decoration: none;
            transition: var(--transition);
        }

        .contact-item a:hover {
            color: var(--secondary-color);
            text-decoration: underline;
        }

        .copyright {
            text-align: center;
            padding-top: 40px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: 1rem;
            position: relative;
            z-index: 2;
        }

        /* عناصر انیمیشنی اضافه */
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .floating-shape {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--secondary-color) 0%, transparent 70%);
            opacity: 0.1;
            animation: float 20s infinite linear;
        }

        .floating-shape:nth-child(1) {
            width: 100px;
            height: 100px;
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .floating-shape:nth-child(2) {
            width: 150px;
            height: 150px;
            top: 60%;
            right: 10%;
            animation-delay: 5s;
        }

        .floating-shape:nth-child(3) {
            width: 80px;
            height: 80px;
            bottom: 20%;
            left: 15%;
            animation-delay: 10s;
        }

        .typing-text {
            display: inline-block;
            overflow: hidden;
            white-space: nowrap;
            border-right: 3px solid var(--secondary-color);
            animation: typing 3.5s steps(40, end), blink 0.75s step-end infinite;
        }

        /* رسپانسیو */
        @media (max-width: 1200px) {
            .container {
                width: 95%;
            }
            
            .hero h2 {
                font-size: 2.8rem;
            }
            
            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            }
            
            .mediators-grid {
                grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .nav-links {
                display: none;
            }
            
            .hamburger {
                display: block;
            }
            
            .hero h2 {
                font-size: 2.4rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .section-title h3 {
                font-size: 2.2rem;
            }
            
            .product-card, .mediator-card {
                max-width: 400px;
                margin: 0 auto;
            }
            
            .payment-content, .tracking-content {
                padding: 40px;
            }
            
            .tracking-code {
                font-size: 2.8rem;
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 60px 30px;
            }
            
            .hero h2 {
                font-size: 2rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
                gap: 20px;
            }
            
            .btn {
                width: 100%;
                max-width: 350px;
                text-align: center;
            }
            
            .category-tabs {
                flex-direction: column;
                border-radius: var(--border-radius);
            }
            
            .tab-btn {
                padding: 15px;
            }
            
            .products-grid {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .mediators-grid {
                grid-template-columns: 1fr;
            }
            
            .payment-actions, .tracking-actions {
                flex-direction: column;
            }
            
            .cart-content {
                max-width: 100%;
                padding: 30px;
            }
            
            .payment-methods {
                flex-direction: column;
                align-items: center;
            }
            
            .payment-method {
                width: 100%;
                max-width: 250px;
            }
            
            .mediator-stats {
                gap: 15px;
            }
            
            .stat-item {
                min-width: 100px;
                padding: 10px;
            }
            
            .tracking-title {
                font-size: 2.2rem;
            }
            
            .tracking-code {
                font-size: 2.2rem;
                letter-spacing: 5px;
                padding: 20px;
            }
        }

        @media (max-width: 576px) {
            .logo h1 {
                font-size: 1.5rem;
            }
            
            .logo img {
                height: 50px;
                width: 50px;
            }
            
            .section-title h3 {
                font-size: 1.8rem;
            }
            
            .hero h2 {
                font-size: 1.8rem;
            }
            
            .hero p {
                font-size: 1.1rem;
            }
            
            .product-title {
                font-size: 1.3rem;
            }
            
            .product-price {
                font-size: 1.5rem;
            }
            
            .mediator-name {
                font-size: 1.5rem;
            }
            
            .cart-item {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .cart-item-img {
                margin-left: 0;
                margin-bottom: 15px;
            }
            
            .cart-item-actions {
                width: 100%;
                justify-content: space-between;
                margin-top: 15px;
            }
            
            .payment-content, .tracking-content {
                padding: 30px 20px;
            }
            
            .payment-title, .tracking-title {
                font-size: 2rem;
            }
            
            .tracking-code {
                font-size: 1.8rem;
                letter-spacing: 3px;
                padding: 15px;
            }
        }

        /* کلاس‌های کمکی */
        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 0.8s ease;
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        .ripple {
            position: relative;
            overflow: hidden;
        }

        .ripple::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 5px;
            height: 5px;
            background: rgba(255, 255, 255, 0.5);
            opacity: 0;
            border-radius: 100%;
            transform: scale(1, 1) translate(-50%);
            transform-origin: 50% 50%;
        }

        .ripple:focus:not(:active)::after {
            animation: ripple 1s ease-out;
        }
    </style>
</head>
<body>
    <!-- اشکال شناور در پس‌زمینه -->
    <div class="floating-shapes">
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
        <div class="floating-shape"></div>
    </div>

    <!-- هدر -->
    <header>
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <img src="https://uploadkon.ir/uploads/8b5d02_25IMG-20251203-025644-983.jpg" alt="رویال شاپ">
                    <div>
                        <h1>بازار معاملاتی <span>رویال شاپ</span></h1>
                        <div class="logo-subtitle">معتبرترین بازار خرید و فروش آنلاین</div>
                    </div>
                </div>
                
                <ul class="nav-links">
                    <li><a href="#home"><i class="fas fa-home"></i> صفحه اصلی</a></li>
                    <li><a href="#products"><i class="fas fa-shopping-bag"></i> محصولات</a></li>
                    <li><a href="#mediators"><i class="fas fa-user-tie"></i> واسطه‌ها</a></li>
                    <li><a href="#rules"><i class="fas fa-gavel"></i> قوانین</a></li>
                    <li><a href="#contact"><i class="fas fa-phone-alt"></i> تماس با ما</a></li>
                </ul>
                
                <div class="nav-actions">
                    <div class="cart-icon" id="cartIcon">
                        <i class="fas fa-shopping-cart"></i>
                        <span class="cart-count" id="cartCount">0</span>
                    </div>
                    <div class="hamburger" id="hamburger">
                        <i class="fas fa-bars"></i>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <!-- منوی موبایل -->
    <div class="mobile-menu hidden" id="mobileMenu">
        <div class="mobile-nav-links">
            <a href="#home"><i class="fas fa-home"></i> صفحه اصلی</a>
            <a href="#products"><i class="fas fa-shopping-bag"></i> محصولات</a>
            <a href="#mediators"><i class="fas fa-user-tie"></i> واسطه‌ها</a>
            <a href="#rules"><i class="fas fa-gavel"></i> قوانین</a>
            <a href="#contact"><i class="fas fa-phone-alt"></i> تماس با ما</a>
        </div>
    </div>

    <!-- بخش اصلی -->
    <main>
        <section class="hero" id="home">
            <div class="particles-container" id="particlesContainer">
                <!-- ذرات متحرک با JS ایجاد می‌شوند -->
            </div>
            <div class="container">
                <h2><span class="typing-text">بازار معاملاتی رویال شاپ</span></h2>
                <p>سکوی امن و مطمئن برای خرید و فروش محصولات روبیکا، اکانت‌های کالاف دیوتی و شماره مجازی با تضمین کیفیت و امنیت معاملات</p>
                <div class="hero-buttons">
                    <a href="#products" class="btn btn-primary">
                        <i class="fas fa-store"></i> مشاهده محصولات
                    </a>
                    <a href="https://rubika.ir/joing/FABEFGAD0VQRWKYBZFDIDXTCWPJMOVSH" target="_blank" class="btn btn-secondary">
                        <i class="fas fa-door-open"></i> ورود به گپ بازار
                    </a>
                    <button id="copyChannelBtn" class="btn btn-outline">
                        <i class="fas fa-copy"></i> کپی چنل بازار
                    </button>
                </div>
            </div>
        </section>

        <!-- بخش محصولات -->
        <section class="products-section" id="products">
            <div class="container">
                <div class="section-title">
                    <h3>محصولات ویژه</h3>
                </div>
                
                <div class="category-tabs">
                    <button class="tab-btn active" data-category="rubika">
                        <i class="fab fa-rubika"></i> محصولات روبیکا
                    </button>
                    <button class="tab-btn" data-category="cod">
                        <i class="fas fa-gamepad"></i> اکانت‌های کالاف
                    </button>
                    <button class="tab-btn" data-category="virtual">
                        <i class="fas fa-sim-card"></i> شماره مجازی
                    </button>
                </div>
                
                <!-- محصولات روبیکا -->
                <div class="products-grid" id="rubikaProducts">
                    <!-- محصولات روبیکا با JS پر می‌شوند -->
                </div>
                
                <!-- محصولات کالاف دیوتی -->
                <div class="products-grid hidden" id="codProducts">
                    <!-- محصولات کالاف با JS پر می‌شوند -->
                </div>
                
                <!-- محصولات شماره مجازی -->
                <div class="products-grid hidden" id="virtualProducts">
                    <!-- محصولات شماره مجازی با JS پر می‌شوند -->
                </div>
            </div>
        </section>

        <!-- بخش واسطه‌ها -->
        <section class="mediators-section" id="mediators">
            <div class="container">
                <div class="section-title">
                    <h3>واسطه‌ها و مدیران</h3>
                </div>
                
                <div class="mediators-grid">
                    <!-- واسطه‌ها با JS پر می‌شوند -->
                </div>
            </div>
        </section>

        <!-- بخش قوانین -->
        <section class="rules-section" id="rules">
            <div class="container">
                <h2 class="rules-title">قوانین اجاره اکانت</h2>
                <div class="rules-list">
                    <!-- قوانین با JS پر می‌شوند -->
                </div>
            </div>
        </section>

        <!-- فوتر -->
        <footer id="contact">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-logo">
                        <h2>بازار معاملاتی <span>رویال شاپ</span></h2>
                        <p>پلتفرم امن و معتبر برای خرید و فروش محصولات دیجیتال با پشتیبانی ۲۴ ساعته و تضمین کیفیت</p>
                    </div>
                    
                    <div class="footer-links">
                        <h3>دسترسی سریع</h3>
                        <ul>
                            <li><a href="#home"><i class="fas fa-chevron-left"></i> صفحه اصلی</a></li>
                            <li><a href="#products"><i class="fas fa-chevron-left"></i> محصولات</a></li>
                            <li><a href="#mediators"><i class="fas fa-chevron-left"></i> واسطه‌ها</a></li>
                            <li><a href="#rules"><i class="fas fa-chevron-left"></i> قوانین</a></li>
                            <li><a href="https://rubika.ir/joing/FABEFGAD0VQRWKYBZFDIDXTCWPJMOVSH" target="_blank"><i class="fas fa-chevron-left"></i> گپ بازار</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-contact">
                        <h3>ارتباط با ما</h3>
                        <div class="contact-item">
                            <i class="fab fa-rubika"></i>
                            <div>
                                <p>چنل رسمی بازار</p>
                                <a href="#" id="channelLink">@BAZAR_ROYAL_SHOP</a>
                            </div>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-users"></i>
                            <div>
                                <p>گپ بازار معاملاتی</p>
                                <a href="https://rubika.ir/joing/FABEFGAD0VQRWKYBZFDIDXTCWPJMOVSH" target="_blank">ورود به گپ بازار</a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="copyright">
                    <p>© 2025 کلیه حقوق برای بازار معاملاتی رویال شاپ محفوظ است. طراحی و توسعه با ❤️</p>
                </div>
            </div>
        </footer>
    </main>

    <!-- سبد خرید -->
    <div class="cart-modal" id="cartModal">
        <div class="cart-content">
            <div class="cart-header">
                <h2 class="cart-title">سبد خرید شما</h2>
                <button class="close-cart" id="closeCart">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="cart-items" id="cartItems">
                <!-- آیتم‌های سبد خرید با JS پر می‌شوند -->
                <p id="emptyCartMessage" style="text-align: center; padding: 60px 0; color: var(--gray-dark); font-size: 1.2rem;">
                    <i class="fas fa-shopping-cart" style="font-size: 3rem; margin-bottom: 20px; display: block; opacity: 0.5;"></i>
                    سبد خرید شما خالی است
                </p>
            </div>
            
            <div class="cart-footer">
                <div class="cart-total">
                    <span>مبلغ قابل پرداخت:</span>
                    <span id="cartTotal">0 تومان</span>
                </div>
                <button class="checkout-btn" id="checkoutBtn">
                    <i class="fas fa-lock"></i> ادامه فرآیند خرید
                </button>
            </div>
        </div>
    </div>

    <!-- درگاه پرداخت -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <div class="payment-header">
                <h2 class="payment-title">درگاه پرداخت امن</h2>
                <p class="payment-subtitle">لطفا اطلاعات پرداخت خود را با دقت وارد نمایید</p>
                <div class="secure-badge">
                    <i class="fas fa-shield-alt"></i>
                    <span>پرداخت ۱۰۰٪ امن با پروتکل SSL پیشرفته</span>
                </div>
                
                <div class="payment-security">
                    <div class="security-item">
                        <i class="fas fa-lock"></i>
                        <span>رمزنگاری شده</span>
                    </div>
                    <div class="security-item">
                        <i class="fas fa-user-shield"></i>
                        <span>حفاظت از اطلاعات</span>
                    </div>
                    <div class="security-item">
                        <i class="fas fa-bolt"></i>
                        <span>پرداخت سریع</span>
                    </div>
                </div>
            </div>
            
            <div class="payment-form">
                <div class="payment-methods">
                    <div class="payment-method active" data-method="card">
                        <i class="fas fa-credit-card"></i>
                        <span>کارت به کارت</span>
                    </div>
                    <div class="payment-method" data-method="wallet">
                        <i class="fas fa-wallet"></i>
                        <span>کیف پول</span>
                    </div>
                    <div class="payment-method" data-method="bank">
                        <i class="fas fa-university"></i>
                        <span>درگاه بانکی</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="cardNumber"><i class="fas fa-credit-card"></i> شماره کارت</label>
                    <input type="text" id="cardNumber" placeholder="6037 9977 XXXX XXXX" maxlength="19" dir="ltr">
                </div>
                
                <div class="form-group">
                    <label for="cardHolder"><i class="fas fa-user"></i> نام دارنده کارت</label>
                    <input type="text" id="cardHolder" placeholder="نام و نام خانوادگی به فارسی">
                </div>
                
                <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                    <div class="form-group" style="flex: 1; min-width: 200px;">
                        <label for="expiryDate"><i class="fas fa-calendar-alt"></i> تاریخ انقضا</label>
                        <input type="text" id="expiryDate" placeholder="ماه/سال (مثال: 12/1403)" maxlength="7" dir="ltr">
                    </div>
                    <div class="form-group" style="flex: 1; min-width: 200px;">
                        <label for="cvv"><i class="fas fa-key"></i> CVV2</label>
                        <input type="password" id="cvv" placeholder="XXX" maxlength="4" dir="ltr">
                    </div>
                </div>
                
                <div class="payment-actions">
                    <button class="btn btn-cancel" id="cancelPayment">
                        <i class="fas fa-times"></i> انصراف
                    </button>
                    <button class="btn btn-pay" id="confirmPayment">
                        <i class="fas fa-lock"></i> پرداخت مبلغ <span id="paymentAmount">0</span> تومان
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- مودال کد رهگیری -->
    <div class="tracking-modal" id="trackingModal">
        <div class="tracking-content">
            <div class="tracking-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <h2 class="tracking-title">پرداخت موفق!</h2>
            <p class="tracking-subtitle">پرداخت شما با موفقیت انجام شد. لطفاً کد رهگیری زیر را اسکرین‌شات گرفته و به پشتیبانی روبیکا ارسال کنید.</p>
            
            <div class="tracking-code" id="trackingCode">RS-2025-84932</div>
            
            <div class="tracking-instructions">
                <h4>دستورالعمل دریافت سرویس:</h4>
                <ol>
                    <li><strong>کد رهگیری بالا را اسکرین‌شات بگیرید</strong></li>
                    <li>به ایدی پشتیبانی روبیکا (<strong>@BAZAR_ROYAL_SHOP</strong>) پیام دهید</li>
                    <li>اسکرین‌شات کد رهگیری را ارسال کنید</li>
                    <li>منتظر دریافت سرویس از پشتیبانی باشید (حداکثر ۱ ساعت)</li>
                    <li>در صورت هرگونه مشکل با پشتیبانی در تماس باشید</li>
                </ol>
            </div>
            
            <div class="tracking-support">
                <i class="fab fa-rubika"></i>
                <p>پشتیبانی روبیکا: @BAZAR_ROYAL_SHOP</p>
            </div>
            
            <div class="tracking-actions">
                <button class="btn-copy-code" id="copyTrackingCode">
                    <i class="fas fa-copy"></i> کپی کد رهگیری
                </button>
                <button class="btn-close-tracking" id="closeTrackingModal">
                    <i class="fas fa-check"></i> متوجه شدم
                </button>
            </div>
        </div>
    </div>

    <script>
        // داده‌های محصولات با کیفیت بالا
        const rubikaProducts = [
            {
                id: 1,
                title: "اکانت طلایی روبیکا",
                description: "اکانت VIP روبیکا با تمام قابلیت‌های ویژه، تم‌های اختصاصی، حالت‌های مخفی و دسترسی به امکانات پریمیوم",
                price: 350000,
                image: "https://biaupload.com/do.php?imgf=org-152fc4335f9a1.png",
                category: "rubika",
                badge: "پرطرفدار",
                features: ["تم اختصاصی", "حالت مخفی", "پشتیبانی VIP", "امکانات پریمیوم"]
            },
            {
                id: 2,
                title: "ربات هوشمند مدیریت",
                description: "ربات پیشرفته مدیریت گروه و کانال با پنل مدیریت فارسی، آنالیز پیشرفته و امکانات امنیتی کامل",
                price: 550000,
                image: "https://biaupload.com/do.php?imgf=org-53cbac02ce7a2.png",
                category: "rubika",
                badge: "جدید",
                features: ["پنل فارسی", "امنیت بالا", "آنالیز پیشرفته", "پشتیبانی 24/7"]
            },
            {
                id: 3,
                title: "افزونه امنیتی پیشرفته",
                description: "مجموعه کامل ابزارهای امنیتی برای محافظت از اکانت روبیکا در برابر هک، نفوذ و دسترسی‌های غیرمجاز",
                price: 280000,
                image: "https://biaupload.com/do.php?imgf=org-e71263e5d1ff1.png",
                category: "rubika",
                badge: "ضروری",
                features: ["ضد هک", "مانیتورینگ", "هشدار امنیتی", "پشتیبانی فنی"]
            },
            {
                id: 4,
                title: "پکیج تم‌های لوکس",
                description: "پکیج شامل 80 تم اختصاصی و با کیفیت بالا برای روبیکا با قابلیت شخصی‌سازی کامل و پشتیبانی آپدیت",
                price: 180000,
                image: "https://images.unsplash.com/photo-1518709268805-4e9042af2176?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8dGhlbWV8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "rubika",
                badge: "تخفیف ویژه",
                features: ["80 تم", "شخصی‌سازی", "آپدیت رایگان", "پشتیبانی"]
            }
        ];

        const codProducts = [
            {
                id: 5,
                title: "اکانت افسانه‌ای کالاف",
                description: "اکانت لوکس با تمام اسلحه‌های افسانه‌ای، شخصیت‌های نادر، رنک بالا و دسترسی به تمام حالت‌های بازی",
                price: 200000,
                image: "https://images.unsplash.com/photo-1511512578047-dfb367046420?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8Z2FtaW5nfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80",
                category: "cod",
                badge: "اجاره روزانه",
                duration: "روزانه",
                features: ["تمام اسلحه‌ها", "شخصیت‌های نادر", "رنک بالا", "دسترسی کامل"]
            },
            {
                id: 6,
                title: "اکانت حرفه‌ای کالاف",
                description: "اکانت حرفه‌ای با امکانات کامل، اسلحه‌های اپیک، شخصیت‌های ویژه و دسترسی به بخش‌های خاص بازی",
                price: 100000,
                image: "https://images.unsplash.com/photo-1534423861386-85a16f5d13fd?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8Z2FtaW5nJTIwc2V0dXB8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "cod",
                badge: "اجاره روزانه",
                duration: "روزانه",
                features: ["اسلحه‌های اپیک", "شخصیت ویژه", "امتیاز بالا", "پشتیبانی"]
            },
            {
                id: 7,
                title: "اکانت پایه کالاف",
                description: "اکانت مناسب برای شروع بازی با اسلحه‌های معمولی، شخصیت‌های ابتدایی و آموزش کامل بازی",
                price: 20000,
                image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8Z2FtaW5nJTIwbW9iaWxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=80",
                category: "cod",
                badge: "اجاره ساعتی",
                duration: "ساعتی",
                features: ["مناسب شروع", "آموزش کامل", "پشتیبانی", "امنیت بالا"]
            },
            {
                id: 8,
                title: "اکانت هفتگی کالاف",
                description: "اجاره 7 روزه اکانت با دسترسی کامل به تمام امکانات، اسلحه‌ها و شخصیت‌های ویژه بازی",
                price: 100000,
                image: "https://biaupload.com/do.php?imgf=org-ccc2246153391.jpg",
                category: "cod",
                badge: "اجاره هفتگی",
                duration: "7 روزه",
                features: ["دسترسی کامل", "پشتیبانی 24/7", "تضمین امنیت", "آپدیت رایگان"]
            },
            {
                id: 9,
                title: "اکانت ماهانه کالاف",
                description: "اجاره 1 ماهه اکانت VIP با تمام شخصیت‌های نادر، اسلحه‌های افسانه‌ای و آپدیت رایگان در طول ماه",
                price: 300000,
                image: "https://biaupload.com/do.php?imgf=org-593cc8c50f292.jpg",
                category: "cod",
                badge: "اجاره ماهانه",
                duration: "1 ماهه",
                features: ["اکانت VIP", "آپدیت رایگان", "پشتیبانی ویژه", "تضمین کیفیت"]
            },
            {
                id: 10,
                title: "اکانت تورنمنت کالاف",
                description: "اکانت حرفه‌ای مخصوص مسابقات با رنک بالا، تمام اسلحه‌های افسانه‌ای و شخصیت‌های ویژه تورنمنتی",
                price: 250000,
                image: "https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fGdhbWluZyUyMGNvbnRyb2xsZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "cod",
                badge: "اجاره روزانه",
                duration: "روزانه",
                features: ["مخصوص مسابقه", "رنک بالا", "تیم اختصاصی", "پشتیبانی حرفه‌ای"]
            }
        ];

        // داده‌های شماره مجازی با قیمت‌های بالا
        const virtualProducts = [
            {
                id: 11,
                title: "شماره مجازی آمریکا طلایی",
                description: "شماره مجازی آمریکا با کیفیت عالی، دریافت تمام پیامک‌ها، فعال‌سازی تمام اپلیکیشن‌ها و تضمین 100% کد",
                price: 850000,
                image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cGhvbmUlMjBudW1iZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "virtual",
                badge: "پرطرفدار",
                features: ["تضمین 100% کد", "فعال‌سازی تمام اپ‌ها", "کیفیت عالی", "پشتیبانی VIP"]
            },
            {
                id: 12,
                title: "شماره مجازی انگلیس ویژه",
                description: "شماره مجازی انگلیس با سرعت بالا، دریافت پیامک فوری، مناسب برای تمام برنامه‌ها و خدمات با تضمین کامل",
                price: 750000,
                image: "https://images.unsplash.com/photo-1519501025264-65ba15a82390?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cGhvbmUlMjBudW1iZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "virtual",
                badge: "جدید",
                features: ["تضمین 100% کد", "سرعت بالا", "فعال‌سازی آسان", "پشتیبانی 24/7"]
            },
            {
                id: 13,
                title: "شماره مجازی آلمان حرفه‌ای",
                description: "شماره مجازی آلمان با امنیت بالا، مناسب برای حساب‌های مهم، دریافت کدهای امنیتی و تضمین مادام‌العمر",
                price: 950000,
                image: "https://images.unsplash.com/photo-1534536281715-e28d76689b4d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8cGhvbmUlMjBudW1iZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "virtual",
                badge: "ویژه",
                features: ["تضمین 100% کد", "امنیت بالا", "مادام‌العمر", "پشتیبانی فوری"]
            },
            {
                id: 14,
                title: "شماره مجازی کانادا الماس",
                description: "شماره مجازی کانادا با کیفیت الماس، مناسب برای تمام سرویس‌های جهانی، تضمین فعال‌سازی و دریافت کد",
                price: 800000,
                image: "https://images.unsplash.com/photo-1546054451-4cffa2c1d4e9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NXx8cGhvbmUlMjBudW1iZXJ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=80",
                category: "virtual",
                badge: "تضمین مطلق",
                features: ["تضمین 100% کد", "کیفیت الماس", "تمام سرویس‌ها", "پشتیبانی ویژه"]
            }
        ];

        // داده‌های واسطه‌ها با آمار
        const mediators = [
            {
                name: "آقای طاووس",
                role: "مالک و بنیانگذار بازار",
                contact: "@ID_TAVUS",
                image: "https://uploadkon.ir/uploads/172f02_25IMG-20251202-233103-289.jpg",
                description: "مدیریت و نظارت بر کلیه فرآیندهای بازار، تضمین امنیت معاملات",
                stats: {
                    deals: 1547,
                    satisfaction: 99,
                    experience: 42
                },
                rank: 1
            },
            {
                name: "مدیریت بازار",
                role: "مدیر اجرایی و نظارتی",
                contact: "@Id_MaMadVR",
                image: "https://uploadkon.ir/uploads/847602_25IMG-20251202-233209-851.jpg",
                description: "بررسی و تایید معاملات، حل اختلافات، پشتیبانی فنی",
                stats: {
                    deals: 1092,
                    satisfaction: 97,
                    experience: 28
                },
                rank: 2
            },
            {
                name: "واسطه تخصصی",
                role: "واسطه تخصصی روبیکا",
                contact: "@Id_ManFreddie",
                image: "https://uploadkon.ir/uploads/161702_25IMG-20251203-000247-550.jpg",
                description: "واسطه‌گری تخصصی در معاملات روبیکا، مشاوره فنی",
                stats: {
                    deals: 767,
                    satisfaction: 98,
                    experience: 22
                },
                rank: 3
            }
        ];

        // داده‌های قوانین
        const rules = [
            "هرگونه تغییر در تنظیمات اکانت (رمز، ایمیل، شماره تلفن) مطلقاً ممنوع است.",
            "استفاده از چیت، هک یا هرگونه تقلب در بازی منجر به مسدود شدن دائم اکانت می‌شود.",
            "در صورت بروز هرگونه مشکل فنی، بلافاصله به پشتیبانی اطلاع دهید.",
            "مسئولیت هرگونه خسارت ناشی از استفاده نادرست بر عهده اجاره‌کننده است.",
            "پس از پایان زمان اجاره، بلافاصله از اکانت خارج شوید.",
            "هرگونه خرید داخل اپلیکیشن (In-App Purchase) نیاز به هماهنگی قبلی دارد.",
            "زمان اجاره از لحظه دسترسی به اکانت محاسبه می‌شود.",
            "ارائه اطلاعات نادرست منجر به لغو سرویس بدون بازگشت وجه می‌شود."
        ];

        // سبد خرید
        let cart = JSON.parse(localStorage.getItem('royalShopCart')) || [];
        
        // المنت‌های DOM
        const cartIcon = document.getElementById('cartIcon');
        const cartCount = document.getElementById('cartCount');
        const cartModal = document.getElementById('cartModal');
        const closeCart = document.getElementById('closeCart');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const emptyCartMessage = document.getElementById('emptyCartMessage');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const paymentModal = document.getElementById('paymentModal');
        const cancelPayment = document.getElementById('cancelPayment');
        const confirmPayment = document.getElementById('confirmPayment');
        const paymentAmount = document.getElementById('paymentAmount');
        const tabButtons = document.querySelectorAll('.tab-btn');
        const rubikaProductsGrid = document.getElementById('rubikaProducts');
        const codProductsGrid = document.getElementById('codProducts');
        const virtualProductsGrid = document.getElementById('virtualProducts');
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobileMenu');
        const copyChannelBtn = document.getElementById('copyChannelBtn');
        const channelLink = document.getElementById('channelLink');
        const trackingModal = document.getElementById('trackingModal');
        const trackingCode = document.getElementById('trackingCode');
        const copyTrackingCode = document.getElementById('copyTrackingCode');
        const closeTrackingModal = document.getElementById('closeTrackingModal');
        const particlesContainer = document.getElementById('particlesContainer');

        // فرمت قیمت به تومان
        function formatPrice(price) {
            return new Intl.NumberFormat('fa-IR').format(price) + ' تومان';
        }

        // ایجاد ذرات متحرک
        function createParticles() {
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                const size = Math.random() * 20 + 5;
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 10;
                
                particle.style.cssText = `
                    width: ${size}px;
                    height: ${size}px;
                    left: ${posX}%;
                    top: ${posY}%;
                    animation-duration: ${duration}s;
                    animation-delay: ${delay}s;
                    background: rgba(${Math.random() * 255}, ${Math.random() * 255}, 255, 0.2);
                `;
                
                particlesContainer.appendChild(particle);
            }
        }

        // به روزرسانی سبد خرید
        function updateCart() {
            // به روزرسانی شمارش
            const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
            cartCount.textContent = totalItems;
            
            // ذخیره در localStorage
            localStorage.setItem('royalShopCart', JSON.stringify(cart));
            
            // انیمیشن سبد خرید
            if (totalItems > 0) {
                cartIcon.style.animation = 'none';
                setTimeout(() => {
                    cartIcon.style.animation = 'pulse 3s infinite';
                }, 10);
            }
        }

        // نمایش محصولات
        function renderProducts() {
            // محصولات روبیکا
            rubikaProductsGrid.innerHTML = '';
            rubikaProducts.forEach(product => {
                const productCard = createProductCard(product);
                rubikaProductsGrid.appendChild(productCard);
            });
            
            // محصولات کالاف دیوتی
            codProductsGrid.innerHTML = '';
            codProducts.forEach(product => {
                const productCard = createProductCard(product);
                codProductsGrid.appendChild(productCard);
            });
            
            // محصولات شماره مجازی
            virtualProductsGrid.innerHTML = '';
            virtualProducts.forEach(product => {
                const productCard = createProductCard(product);
                virtualProductsGrid.appendChild(productCard);
            });
        }

        // ایجاد کارت محصول
        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = `product-card ${product.category === 'virtual' ? 'virtual' : ''} fade-in`;
            card.dataset.id = product.id;
            
            let badgeHTML = '';
            if (product.badge) {
                badgeHTML = `<div class="product-badge ${product.category === 'virtual' ? 'virtual' : ''}">${product.badge}</div>`;
            }
            
            let durationHTML = '';
            if (product.duration) {
                durationHTML = `<div class="product-duration">${product.duration}</div>`;
            }
            
            let guaranteeHTML = '';
            if (product.category === 'virtual') {
                guaranteeHTML = `<div class="guarantee-badge"><i class="fas fa-shield-alt"></i> تضمین 100% کد</div>`;
            }
            
            let featuresHTML = '';
            if (product.features) {
                featuresHTML = `
                    <div style="margin-top: 15px; display: flex; flex-wrap: wrap; gap: 10px;">
                        ${product.features.map(feature => 
                            `<span style="background: var(--gradient-light); padding: 5px 15px; border-radius: 50px; font-size: 0.85rem; color: var(--primary-color);">${feature}</span>`
                        ).join('')}
                    </div>
                `;
            }
            
            card.innerHTML = `
                ${badgeHTML}
                <div class="product-img">
                    <img src="${product.image}" alt="${product.title}" loading="lazy">
                </div>
                <div class="product-info">
                    <h3 class="product-title">${product.title}</h3>
                    <p class="product-description">${product.description}</p>
                    ${featuresHTML}
                    <div class="product-price">
                        <i class="fas fa-tag"></i> ${formatPrice(product.price)}
                    </div>
                    ${durationHTML}
                    ${guaranteeHTML}
                    <div class="product-actions">
                        <button class="btn-details ${product.category === 'virtual' ? 'virtual' : ''}">
                            <i class="fas fa-info-circle"></i> جزئیات
                        </button>
                        <button class="btn-add-to-cart ${product.category === 'virtual' ? 'virtual' : ''}" data-id="${product.id}">
                            <i class="fas fa-cart-plus"></i> افزودن به سبد
                        </button>
                    </div>
                </div>
            `;
            
            // اضافه کردن رویداد به دکمه افزودن به سبد
            const addToCartBtn = card.querySelector('.btn-add-to-cart');
            addToCartBtn.addEventListener('click', () => addToCart(product));
            
            // رویداد جزئیات بیشتر
            const detailsBtn = card.querySelector('.btn-details');
            detailsBtn.addEventListener('click', () => showProductDetails(product));
            
            // افکت ripple
            [addToCartBtn, detailsBtn].forEach(btn => {
                btn.addEventListener('click', function(e) {
                    createRippleEffect(e, this);
                });
            });
            
            return card;
        }

        // ایجاد افکت ripple
        function createRippleEffect(e, element) {
            const ripple = document.createElement('span');
            const rect = element.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;
            
            ripple.style.cssText = `
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.7);
                transform: scale(0);
                animation: ripple 0.6s linear;
                width: ${size}px;
                height: ${size}px;
                top: ${y}px;
                left: ${x}px;
                pointer-events: none;
            `;
            
            element.appendChild(ripple);
            setTimeout(() => ripple.remove(), 600);
        }

        // نمایش جزئیات محصول
        function showProductDetails(product) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                right: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                z-index: 4000;
                display: flex;
                justify-content: center;
                align-items: center;
                padding: 20px;
                animation: fadeIn 0.3s ease;
                backdrop-filter: blur(10px);
            `;
            
            let guaranteeHTML = '';
            if (product.category === 'virtual') {
                guaranteeHTML = `<div class="guarantee-badge" style="margin-bottom: 20px;"><i class="fas fa-shield-alt"></i> تضمین 100% کد فعال‌سازی</div>`;
            }
            
            modal.innerHTML = `
                <div style="background: var(--gradient-light); border-radius: var(--border-radius); padding: 40px; max-width: 600px; width: 100%; box-shadow: 0 30px 80px rgba(0, 0, 0, 0.4); position: relative; max-height: 90vh; overflow-y: auto;">
                    <button style="position: absolute; top: 20px; left: 20px; background: var(--gradient-accent); color: white; border: none; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; font-size: 1.2rem; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-times"></i>
                    </button>
                    <div style="display: flex; gap: 30px; margin-bottom: 30px; align-items: center; flex-wrap: wrap;">
                        <img src="${product.image}" alt="${product.title}" style="width: 150px; height: 150px; border-radius: var(--border-radius); object-fit: cover; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);">
                        <div>
                            <h3 style="font-size: 1.8rem; color: ${product.category === 'virtual' ? 'var(--virtual-color)' : 'var(--primary-color)'}; margin-bottom: 10px; font-weight: 900;">${product.title}</h3>
                            <div style="font-size: 1.5rem; font-weight: 900; background: ${product.category === 'virtual' ? 'var(--gradient-virtual)' : 'var(--gradient-primary)'}; -webkit-background-clip: text; background-clip: text; color: transparent; margin-bottom: 15px;">${formatPrice(product.price)}</div>
                            ${product.duration ? `<div style="background: var(--gradient-light); padding: 8px 20px; border-radius: 50px; display: inline-block; font-weight: 700; color: var(--primary-color);">${product.duration}</div>` : ''}
                            ${guaranteeHTML}
                        </div>
                    </div>
                    <p style="color: var(--gray-dark); line-height: 1.8; margin-bottom: 30px; font-size: 1.1rem;">${product.description}</p>
                    ${product.features ? `
                        <div style="margin-bottom: 30px;">
                            <h4 style="color: ${product.category === 'virtual' ? 'var(--virtual-color)' : 'var(--primary-color)'}; margin-bottom: 15px; font-size: 1.2rem; font-weight: 800;">ویژگی‌های محصول:</h4>
                            <div style="display: flex; flex-wrap: wrap; gap: 10px;">
                                ${product.features.map(feature => 
                                    `<span style="background: var(--gradient-light); padding: 10px 20px; border-radius: var(--border-radius); font-weight: 600; color: ${product.category === 'virtual' ? 'var(--virtual-color)' : 'var(--primary-color)'}; border: 2px solid var(--gray-medium);">${feature}</span>`
                                ).join('')}
                            </div>
                        </div>
                    ` : ''}
                    <div style="display: flex; gap: 15px;">
                        <button class="btn-add-to-cart-detail" style="flex: 1; background: ${product.category === 'virtual' ? 'var(--gradient-virtual)' : 'var(--gradient-primary)'}; color: white; border: none; padding: 18px; border-radius: var(--border-radius); font-weight: 800; cursor: pointer; font-size: 1.1rem; transition: var(--transition);">
                            <i class="fas fa-cart-plus"></i> افزودن به سبد خرید
                        </button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // رویداد بستن مودال
            const closeBtn = modal.querySelector('button');
            closeBtn.addEventListener('click', () => {
                modal.style.animation = 'fadeIn 0.3s ease reverse';
                setTimeout(() => document.body.removeChild(modal), 300);
            });
            
            // بستن با کلیک بیرون
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.style.animation = 'fadeIn 0.3s ease reverse';
                    setTimeout(() => document.body.removeChild(modal), 300);
                }
            });
            
            // رویداد افزودن به سبد
            const addToCartDetailBtn = modal.querySelector('.btn-add-to-cart-detail');
            addToCartDetailBtn.addEventListener('click', () => {
                addToCart(product);
                modal.style.animation = 'fadeIn 0.3s ease reverse';
                setTimeout(() => document.body.removeChild(modal), 300);
            });
        }

        // اضافه کردن به سبد خرید
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    ...product,
                    quantity: 1
                });
            }
            
            updateCart();
            showNotification('محصول با موفقیت به سبد خرید اضافه شد!', 'success');
        }

        // نمایش نوتیفیکیشن
        function showNotification(message, type = 'success') {
            // ایجاد عنصر نوتیفیکیشن
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 120px;
                right: 20px;
                background: ${type === 'success' ? 'var(--gradient-primary)' : 'var(--gradient-accent)'};
                color: white;
                padding: 20px 30px;
                border-radius: var(--border-radius);
                box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
                z-index: 9999;
                animation: slideInLeft 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                font-weight: 800;
                max-width: 350px;
                display: flex;
                align-items: center;
                gap: 15px;
                backdrop-filter: blur(10px);
            `;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}" style="font-size: 1.5rem;"></i>
                <div>${message}</div>
            `;
            
            document.body.appendChild(notification);
            
            // حذف خودکار پس از 4 ثانیه
            setTimeout(() => {
                notification.style.animation = 'slideInLeft 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) reverse';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 4000);
        }

        // نمایش سبد خرید
        function renderCart() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                emptyCartMessage.style.display = 'block';
                cartTotal.textContent = '0 تومان';
                checkoutBtn.disabled = true;
                checkoutBtn.style.opacity = '0.6';
                return;
            }
            
            emptyCartMessage.style.display = 'none';
            
            let total = 0;
            
            cart.forEach(item => {
                total += item.price * item.quantity;
                
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.dataset.id = item.id;
                
                cartItem.innerHTML = `
                    <div class="cart-item-img">
                        <img src="${item.image}" alt="${item.title}" loading="lazy">
                    </div>
                    <div class="cart-item-details">
                        <h4 class="cart-item-title">${item.title}</h4>
                        <div class="cart-item-price">${formatPrice(item.price)}</div>
                        ${item.duration ? `<div style="margin-top: 5px; font-size: 0.9rem; color: var(--gray-dark);">${item.duration}</div>` : ''}
                        ${item.category === 'virtual' ? `<div style="margin-top: 5px; font-size: 0.9rem; color: var(--virtual-color); font-weight: 700;"><i class="fas fa-shield-alt"></i> تضمین 100% کد</div>` : ''}
                    </div>
                    <div class="cart-item-actions">
                        <button class="remove-item" data-id="${item.id}">
                            <i class="fas fa-trash"></i>
                        </button>
                        <div style="display: flex; align-items: center;">
                            <button class="quantity-btn decrease" data-id="${item.id}">-</button>
                            <span class="item-quantity">${item.quantity}</span>
                            <button class="quantity-btn increase" data-id="${item.id}">+</button>
                        </div>
                    </div>
                `;
                
                cartItems.appendChild(cartItem);
            });
            
            cartTotal.textContent = formatPrice(total);
            checkoutBtn.disabled = false;
            checkoutBtn.style.opacity = '1';
            
            // اضافه کردن رویدادها به دکمه‌های سبد خرید
            document.querySelectorAll('.remove-item').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.currentTarget.dataset.id);
                    removeFromCart(id);
                });
            });
            
            document.querySelectorAll('.increase').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.currentTarget.dataset.id);
                    changeQuantity(id, 1);
                });
            });
            
            document.querySelectorAll('.decrease').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const id = parseInt(e.currentTarget.dataset.id);
                    changeQuantity(id, -1);
                });
            });
        }

        // حذف از سبد خرید
        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            updateCart();
            renderCart();
            showNotification('محصول از سبد خرید حذف شد!', 'warning');
        }

        // تغییر تعداد محصول در سبد خرید
        function changeQuantity(id, change) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += change;
                
                if (item.quantity <= 0) {
                    removeFromCart(id);
                } else {
                    updateCart();
                    renderCart();
                }
            }
        }

        // نمایش واسطه‌ها
        function renderMediators() {
            const mediatorsGrid = document.querySelector('.mediators-grid');
            mediatorsGrid.innerHTML = '';
            
            mediators.forEach(mediator => {
                const mediatorCard = document.createElement('div');
                mediatorCard.className = 'mediator-card fade-in';
                
                mediatorCard.innerHTML = `
                    <div class="mediator-rank">${mediator.rank}</div>
                    <div class="mediator-img">
                        <img src="${mediator.image}" alt="${mediator.name}" loading="lazy">
                    </div>
                    <h3 class="mediator-name">${mediator.name}</h3>
                    <div class="mediator-role">${mediator.role}</div>
                    <p style="color: var(--gray-dark); margin: 15px 0; line-height: 1.7;">${mediator.description}</p>
                    
                    <div class="mediator-stats">
                        <div class="stat-item">
                            <span class="stat-value">${mediator.stats.deals.toLocaleString('fa-IR')}</span>
                            <span class="stat-label">معامله موفق</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">${mediator.stats.satisfaction}%</span>
                            <span class="stat-label">رضایت‌مندی</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">${mediator.stats.experience}</span>
                            <span class="stat-label">ماه سابقه</span>
                        </div>
                    </div>
                    
                    <div class="mediator-contact">
                        <i class="fab fa-rubika"></i>
                        <span>${mediator.contact}</span>
                        <button class="copy-btn" data-contact="${mediator.contact}">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                `;
                
                mediatorsGrid.appendChild(mediatorCard);
            });
            
            // رویداد کپی کردن ایدی
            document.querySelectorAll('.copy-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const contact = e.currentTarget.dataset.contact;
                    navigator.clipboard.writeText(contact).then(() => {
                        showNotification(`آیدی ${contact} با موفقیت کپی شد!`, 'success');
                    });
                });
            });
        }

        // نمایش قوانین
        function renderRules() {
            const rulesList = document.querySelector('.rules-list');
            rulesList.innerHTML = '';
            
            rules.forEach((rule, index) => {
                const ruleItem = document.createElement('div');
                ruleItem.className = 'rule-item fade-in';
                ruleItem.style.animationDelay = `${index * 0.1}s`;
                
                ruleItem.innerHTML = `
                    <i class="fas fa-${index % 2 === 0 ? 'exclamation-triangle' : 'ban'}"></i>
                    <div>${rule}</div>
                `;
                
                rulesList.appendChild(ruleItem);
            });
        }

        // تولید کد رهگیری تصادفی
        function generateTrackingCode() {
            const prefix = 'RS-2025-';
            const randomNum = Math.floor(10000 + Math.random() * 90000);
            return prefix + randomNum;
        }

        // مقداردهی اولیه
        function init() {
            renderProducts();
            renderMediators();
            renderRules();
            updateCart();
            createParticles();
            
            // تولید کد رهگیری اولیه
            trackingCode.textContent = generateTrackingCode();
            
            // رویداد تب‌ها
            tabButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // حذف کلاس active از همه تب‌ها
                    tabButtons.forEach(b => b.classList.remove('active'));
                    
                    // اضافه کردن کلاس active به تب انتخاب شده
                    btn.classList.add('active');
                    if (btn.dataset.category === 'virtual') {
                        btn.classList.add('virtual');
                    }
                    
                    // نمایش محصولات مربوطه
                    const category = btn.dataset.category;
                    
                    rubikaProductsGrid.classList.add('hidden');
                    codProductsGrid.classList.add('hidden');
                    virtualProductsGrid.classList.add('hidden');
                    
                    if (category === 'rubika') {
                        rubikaProductsGrid.classList.remove('hidden');
                    } else if (category === 'cod') {
                        codProductsGrid.classList.remove('hidden');
                    } else if (category === 'virtual') {
                        virtualProductsGrid.classList.remove('hidden');
                    }
                });
            });
            
            // رویداد سبد خرید
            cartIcon.addEventListener('click', () => {
                renderCart();
                cartModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            closeCart.addEventListener('click', () => {
                cartModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // بستن سبد خرید با کلیک بیرون
            cartModal.addEventListener('click', (e) => {
                if (e.target === cartModal) {
                    cartModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // رویداد پرداخت
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) return;
                
                // محاسبه جمع کل
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                paymentAmount.textContent = total.toLocaleString('fa-IR');
                
                cartModal.classList.remove('active');
                paymentModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
            
            // رویدادهای درگاه پرداخت
            cancelPayment.addEventListener('click', () => {
                paymentModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // بستن درگاه پرداخت با کلیک بیرون
            paymentModal.addEventListener('click', (e) => {
                if (e.target === paymentModal) {
                    paymentModal.classList.remove('active');
                    document.body.style.overflow = 'auto';
                }
            });
            
            // انتخاب روش پرداخت
            document.querySelectorAll('.payment-method').forEach(method => {
                method.addEventListener('click', () => {
                    document.querySelectorAll('.payment-method').forEach(m => {
                        m.classList.remove('active');
                    });
                    method.classList.add('active');
                });
            });
            
            // پرداخت نهایی
            confirmPayment.addEventListener('click', () => {
                // اعتبارسنجی فرم
                const cardNumber = document.getElementById('cardNumber').value.replace(/\s/g, '');
                const cardHolder = document.getElementById('cardHolder').value.trim();
                const expiryDate = document.getElementById('expiryDate').value.trim();
                const cvv = document.getElementById('cvv').value.trim();
                
                if (!cardNumber || cardNumber.length < 16) {
                    showNotification('لطفا شماره کارت معتبر وارد کنید.', 'warning');
                    return;
                }
                
                if (!cardHolder) {
                    showNotification('لطفا نام دارنده کارت را وارد کنید.', 'warning');
                    return;
                }
                
                if (!expiryDate || !expiryDate.includes('/')) {
                    showNotification('لطفا تاریخ انقضای معتبر وارد کنید (مثال: 12/1403).', 'warning');
                    return;
                }
                
                if (!cvv || cvv.length < 3) {
                    showNotification('لطفا کد CVV2 معتبر وارد کنید.', 'warning');
                    return;
                }
                
                // شبیه‌سازی پرداخت موفق
                showNotification('پرداخت با موفقیت انجام شد! در حال هدایت به صفحه کد رهگیری...', 'success');
                
                // شبیه‌سازی پردازش
                confirmPayment.innerHTML = '<i class="fas fa-spinner fa-spin"></i> در حال پردازش...';
                confirmPayment.disabled = true;
                
                setTimeout(() => {
                    // تولید کد رهگیری جدید
                    trackingCode.textContent = generateTrackingCode();
                    
                    // بستن مودال پرداخت
                    paymentModal.classList.remove('active');
                    
                    // نمایش مودال کد رهگیری
                    setTimeout(() => {
                        trackingModal.classList.add('active');
                        document.body.style.overflow = 'hidden';
                    }, 500);
                    
                    // بازنشانی دکمه پرداخت
                    confirmPayment.innerHTML = '<i class="fas fa-lock"></i> پرداخت مبلغ <span id="paymentAmount">0</span> تومان';
                    confirmPayment.disabled = false;
                    
                    // خالی کردن سبد خرید
                    cart = [];
                    updateCart();
                    renderCart();
                    
                    // بازنشانی فرم پرداخت
                    document.getElementById('cardNumber').value = '';
                    document.getElementById('cardHolder').value = '';
                    document.getElementById('expiryDate').value = '';
                    document.getElementById('cvv').value = '';
                }, 2000);
            });
            
            // کپی کد رهگیری
            copyTrackingCode.addEventListener('click', () => {
                navigator.clipboard.writeText(trackingCode.textContent).then(() => {
                    showNotification('کد رهگیری با موفقیت کپی شد!', 'success');
                });
            });
            
            // بستن مودال کد رهگیری
            closeTrackingModal.addEventListener('click', () => {
                trackingModal.classList.remove('active');
                document.body.style.overflow = 'auto';
            });
            
            // منوی موبایل
            hamburger.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                if (!mobileMenu.classList.contains('hidden')) {
                    mobileMenu.style.cssText = `
                        position: fixed;
                        top: 100px;
                        right: 0;
                        width: 300px;
                        background: var(--gradient-light);
                        box-shadow: var(--shadow);
                        border-radius: 0 0 var(--border-radius) var(--border-radius);
                        padding: 30px;
                        z-index: 999;
                        animation: slideInRight 0.5s ease;
                    `;
                    
                    mobileMenu.innerHTML = `
                        <div class="mobile-nav-links" style="display: flex; flex-direction: column; gap: 20px;">
                            <a href="#home" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(41, 121, 255, 0.1); border-radius: var(--border-radius); text-decoration: none; color: var(--primary-color); font-weight: 800; transition: var(--transition);">
                                <i class="fas fa-home"></i> صفحه اصلی
                            </a>
                            <a href="#products" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(41, 121, 255, 0.1); border-radius: var(--border-radius); text-decoration: none; color: var(--primary-color); font-weight: 800; transition: var(--transition);">
                                <i class="fas fa-shopping-bag"></i> محصولات
                            </a>
                            <a href="#mediators" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(41, 121, 255, 0.1); border-radius: var(--border-radius); text-decoration: none; color: var(--primary-color); font-weight: 800; transition: var(--transition);">
                                <i class="fas fa-user-tie"></i> واسطه‌ها
                            </a>
                            <a href="#rules" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(41, 121, 255, 0.1); border-radius: var(--border-radius); text-decoration: none; color: var(--primary-color); font-weight: 800; transition: var(--transition);">
                                <i class="fas fa-gavel"></i> قوانین
                            </a>
                            <a href="#contact" style="display: flex; align-items: center; gap: 15px; padding: 15px; background: rgba(41, 121, 255, 0.1); border-radius: var(--border-radius); text-decoration: none; color: var(--primary-color); font-weight: 800; transition: var(--transition);">
                                <i class="fas fa-phone-alt"></i> تماس با ما
                            </a>
                        </div>
                    `;
                    
                    // رویدادهای لینک‌های منوی موبایل
                    mobileMenu.querySelectorAll('a').forEach(link => {
                        link.addEventListener('click', () => {
                            mobileMenu.classList.add('hidden');
                            document.body.style.overflow = 'auto';
                        });
                    });
                } else {
                    document.body.style.overflow = 'auto';
                }
            });
            
            // بستن منوی موبایل با کلیک بیرون
            document.addEventListener('click', (e) => {
                if (!mobileMenu.contains(e.target) && !hamburger.contains(e.target)) {
                    mobileMenu.classList.add('hidden');
                }
            });
            
            // فرمت خودکار شماره کارت
            const cardNumberInput = document.getElementById('cardNumber');
            cardNumberInput.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, '');
                value = value.replace(/(\d{4})(?=\d)/g, '$1 ');
                e.target.value = value;
            });
            
            // فرمت خودکار تاریخ انقضا
            const expiryInput = document.getElementById('expiryDate');
            expiryInput.addEventListener('input', (e) => {
                let value = e.target.value.replace(/\D/g, '');
                if (value.length >= 2) {
                    value = value.substring(0, 2) + '/' + value.substring(2, 6);
                }
                e.target.value = value;
            });
            
            // کپی کردن آیدی چنل
            copyChannelBtn.addEventListener('click', () => {
                navigator.clipboard.writeText('@BAZAR_ROYAL_SHOP').then(() => {
                    showNotification('آیدی چنل بازار (@BAZAR_ROYAL_SHOP) با موفقیت کپی شد!', 'success');
                });
            });
            
            // لینک چنل
            channelLink.addEventListener('click', (e) => {
                e.preventDefault();
                navigator.clipboard.writeText('@BAZAR_ROYAL_SHOP').then(() => {
                    showNotification('آیدی چنل بازار (@BAZAR_ROYAL_SHOP) با موفقیت کپی شد!', 'success');
                });
            });
            
            // اضافه کردن انیمیشن به المنت‌ها هنگام اسکرول
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -100px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);
            
            // مشاهده المنت‌های محصول و واسطه‌ها
            document.querySelectorAll('.product-card, .mediator-card, .rule-item').forEach(el => {
                observer.observe(el);
            });
            
            // پخش انیمیشن تایپینگ
            setTimeout(() => {
                document.querySelector('.typing-text').style.animation = 'none';
                setTimeout(() => {
                    document.querySelector('.typing-text').style.animation = 'typing 3.5s steps(40, end), blink 0.75s step-end infinite';
                }, 100);
            }, 4000);
            
            // افزودن افکت ripple به دکمه‌ها
            document.querySelectorAll('.btn, .btn-add-to-cart, .btn-details, .quantity-btn, .remove-item, .btn-copy-code, .btn-close-tracking').forEach(btn => {
                btn.classList.add('ripple');
            });
        }

        // اجرای تابع init پس از لود صفحه
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>